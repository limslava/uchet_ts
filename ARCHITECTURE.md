
## 2. ARCHITECTURE.md

```markdown
# Архитектура системы Uchet_TS

## Обзор системы
Uchet_TS - это система учета транспортных средств с модульной архитектурой, состоящая из бэкенда на Node.js/Express и фронтенда на React.

## Компонентная диаграмма
┌─────────────────┐ REST API ┌──────────────────┐
│ React Frontend │◄───────────────►│ Express Backend │
│ │ │ │
│ - Компоненты │ │ - Контроллеры │
│ - Страницы │ │ - Маршруты │
│ - Сервисы │ │ - Middleware │
└─────────────────┘ └─────────┬────────┘
│
│ Prisma ORM
│
┌───────▼───────┐
│ PostgreSQL │
│ Database │
└───────────────┘

## Модульная структура

### Frontend (React)
- **Components** - переиспользуемые UI компоненты
- **Pages** - страницы приложения
- **Services** - API вызовы и бизнес-логика
- **Styles** - CSS стили и адаптивный дизайн

### Backend (Node.js/Express)
- **Routes** - обработчики HTTP запросов
- **Middleware** - аутентификация, валидация, CORS
- **Services** - бизнес-логика и утилиты
- **Prisma** - слой работы с базой данных

### База данных (PostgreSQL)
- **Модели данных** - пользователи, транспортные средства, акты, фото
- **Миграции** - управление изменениями схемы БД
- **Сидеры** - начальные данные для тестирования

## Потоки данных

1. **Аутентификация** → JWT токены → Защищенные маршруты
2. **Создание акта** → Валидация → Сохранение в БД → Генерация QR
3. **Сканирование QR** → Поиск акта → Подтверждение приема
4. **Экспорт данных** → Генерация документов → Скачивание

## Известные проблемы
- ❌ Неправильное выравнивание текста в печатной форме акта
- ❌ Периодические лаги при работе с камерой в компоненте сканирования

## Интеграции
- HTML5 QR Code Scanner для мобильного сканирования
- Docx-templates для генерации документов
- Multer для загрузки файлов
- JWT для аутентификации

---

**Версия документации**: 0.5.5 | **Дата обновления**: 2025-09-07

markdown
## Модуль выдачи ТС
Система поддерживает два типа выдачи:
- **📦 Выдача грузополучателю** - списание ТС с учета
- **🚛 Выдача на транспорт** - передача для дальнейшей перевозки

### Типы транспорта и required поля:
- **Автотранспорт** - гос. номер, ФИО водителя, марка автомобиля перевозчика
- **ЖД транспорт** - номер вагона/контейнера, станция назначения
- **Авиаперевозка** - номер рейса, аэропорт назначения  
- **Морской транспорт** - название судна, порт назначения
- **Мультимодальная** - комбинация полей в зависимости от этапов